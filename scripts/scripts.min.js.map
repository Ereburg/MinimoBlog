{"version":3,"sources":["main.js","libs/_lazy.js"],"names":["document","addEventListener","header","querySelector","buttonPosts","articlesPosts","querySelectorAll","gridsPosts","postItemCopyOne","cloneNode","postItemCopyTwo","postItemCopyThree","postItemCopyFour","window","pageYOffset","classList","add","remove","append","navButton","navMenu","burgerItrem","evt","preventDefault","contains","lazyImages","slice","call","lazyBackgrounds","lazyBackgroundsData","lazyImageObserver","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","lazyImage","target","src","dataset","srcset","unobserve","observe","lazyBackgroundObserver","lazyBackground","lazyBackgroundDataObserver","lazyBackgroundData","style","backgroundImage","bg"],"mappings":"AAAAA,SAAAC,iBAAA,oBAAA,KAGA,MAAAC,EAAAF,SAAAG,cAAA,WACAC,EAAAJ,SAAAG,cAAA,eACAE,EAAAL,SAAAM,iBAAA,mBACAC,EAAAP,SAAAM,iBAAA,gBACAE,EAAAH,EAAA,GAAAI,WAAA,GACAC,EAAAL,EAAA,GAAAI,WAAA,GACAE,EAAAN,EAAA,GAAAI,WAAA,GACAG,EAAAP,EAAA,GAAAI,WAAA,GAEAI,OAAAZ,iBAAA,UAAA,KACAY,OAAAC,YAEA,GACAZ,EAAAa,UAAAC,IAAA,UAEAd,EAAAa,UAAAE,OAAA,aAIAb,EAAAH,iBAAA,SAAA,KACAM,EAAA,GAAAW,OAAAP,GACAJ,EAAA,GAAAW,OAAAN,GAEAL,EAAA,GAAAW,OAAAV,GACAD,EAAA,GAAAW,OAAAR,GACAN,EAAAa,YAKA,MAAAE,EAAAnB,SAAAG,cAAA,gBACAiB,EAAApB,SAAAG,cAAA,cACAkB,EAAArB,SAAAM,iBAAA,iBAGAa,EAAAlB,iBAAA,SAAA,SAAAqB,GACAA,EAAAC,iBACAH,EAAAL,UAAAS,SAAA,oBACAJ,EAAAL,UAAAE,OAAA,mBACAI,EAAA,GAAAN,UAAAE,OAAA,uBACAI,EAAA,GAAAN,UAAAE,OAAA,wBACAI,EAAA,GAAAN,UAAAE,OAAA,sBACAE,EAAAJ,UAAAE,OAAA,wBAEAG,EAAAL,UAAAC,IAAA,mBACAK,EAAA,GAAAN,UAAAC,IAAA,uBACAK,EAAA,GAAAN,UAAAC,IAAA,wBACAK,EAAA,GAAAN,UAAAC,IAAA,sBACAG,EAAAJ,UAAAC,IAAA,6BC3CAhB,SAAAC,iBAAA,oBAAA,WAEA,IAAAwB,EAAA,GAAAC,MAAAC,KAAA3B,SAAAM,iBAAA,aACAsB,EAAA,GAAAF,MAAAC,KAAA3B,SAAAM,iBAAA,qBACAuB,EAAA,GAAAH,MAAAC,KAAA3B,SAAAM,iBAAA,cAEA,GAAA,yBAAAO,OAAA,CAEA,IAAAiB,EAAA,IAAAC,sBAAA,SAAAC,EAAAC,GACAD,EAAAE,SAAA,SAAAC,GACA,GAAAA,EAAAC,eAAA,CACA,IAAAC,EAAAF,EAAAG,OACAD,EAAAE,IAAAF,EAAAG,QAAAD,IACAF,EAAAI,OAAAJ,EAAAG,QAAAC,OACAJ,EAAAtB,UAAAE,OAAA,QACAa,EAAAY,UAAAL,UAIAZ,EAAAS,SAAA,SAAAG,GACAP,EAAAa,QAAAN,MAGA,IAAAO,EAAA,IAAAb,sBAAA,SAAAC,EAAAC,GACAD,EAAAE,SAAA,SAAAC,GACAA,EAAAC,iBACAD,EAAAG,OAAAvB,UAAAC,IAAA,WACA4B,EAAAF,UAAAP,EAAAG,eAIAV,EAAAM,SAAA,SAAAW,GACAD,EAAAD,QAAAE,MAGA,IAAAC,EAAA,IAAAf,sBAAA,SAAAC,EAAAC,GACAD,EAAAE,SAAA,SAAAC,GACA,GAAAA,EAAAC,eAAA,CACA,IAAAW,EAAAZ,EAAAG,OACAS,EAAAC,MAAAC,gBAAA,OAAAF,EAAAP,QAAAU,GAAA,IACAJ,EAAAJ,UAAAK,UAIAlB,EAAAK,SAAA,SAAAa,GACAD,EAAAH,QAAAI,WAOAtB,EAAAS,SAAA,SAAAG,GACAA,EAAAE,IAAAF,EAAAG,QAAAD,IACAF,EAAAI,OAAAJ,EAAAG,QAAAC,UAEAb,EAAAM,SAAA,SAAAW,GACAA,EAAA9B,UAAAC,IAAA,cAEAa,EAAAK,SAAA,SAAAa,GACAA,EAAAC,MAAAC,gBAAA,OAAAF,EAAAP,QAAAU,GAAA","file":"scripts.min.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n\n\t// Добавляем класс scroll в шапку\n\tconst header = document.querySelector('.header');\n\tconst buttonPosts = document.querySelector('.posts__btn');\n\tconst articlesPosts = document.querySelectorAll('.posts__article');\n\tconst gridsPosts = document.querySelectorAll('.posts__grid');\n\tconst postItemCopyOne = articlesPosts[0].cloneNode(true);\n\tconst postItemCopyTwo = articlesPosts[1].cloneNode(true);\n\tconst postItemCopyThree = articlesPosts[2].cloneNode(true);\n\tconst postItemCopyFour = articlesPosts[3].cloneNode(true);\n\n\twindow.addEventListener('scroll', () => {\n\t\tlet y = window.pageYOffset;\n\n\t\tif (y > 55) {\n\t\t\theader.classList.add('scroll');\n\t\t} else {\n\t\t\theader.classList.remove('scroll');\n\t\t}\n\t});\n\n\tbuttonPosts.addEventListener('click', () => {\n\t\tgridsPosts[1].append(postItemCopyThree);\n\t\tgridsPosts[1].append(postItemCopyFour);\n\n\t\tgridsPosts[1].append(postItemCopyOne);\n\t\tgridsPosts[1].append(postItemCopyTwo);\n\t\tbuttonPosts.remove();\n\t});\n\n\n\t// Меню\n\tconst navButton = document.querySelector('.nav__button');\n\tconst navMenu = document.querySelector('.nav__menu');\n\tconst burgerItrem = document.querySelectorAll('.burger__item');\n\n\n\tnavButton.addEventListener('click', function (evt) {\n\t\tevt.preventDefault();\n\t\tif (navMenu.classList.contains('nav__menu--show')) {\n\t\t\tnavMenu.classList.remove('nav__menu--show');\n\t\t\tburgerItrem[0].classList.remove('burger__item--first');\n\t\t\tburgerItrem[1].classList.remove('burger__item--second');\n\t\t\tburgerItrem[2].classList.remove('burger__item--last');\n\t\t\tnavButton.classList.remove('nav__button--close');\n\t\t} else {\n\t\t\tnavMenu.classList.add('nav__menu--show');\n\t\t\tburgerItrem[0].classList.add('burger__item--first');\n\t\t\tburgerItrem[1].classList.add('burger__item--second');\n\t\t\tburgerItrem[2].classList.add('burger__item--last');\n\t\t\tnavButton.classList.add('nav__button--close');\n\t\t}\n\t});\n});","// Lazy loading img & background images using intersection observer\n// Reference: https://developers.google.com/web/fundamentals/performance/lazy-loading-guidance/images-and-video/\n// Using example: <img class=\"lazy\" src=\"thumb.gif\" data-src=\"real-img.jpg\" data-srcset=\"real-img@1x.jpg 1x, real-img@2x.jpg 2x\">\n// Background image class usign example: <div class=\"lazy-background\"> with added class \".visible\" for styling\n// Background image style attribute lazy loading example: <div data-bg=\"image.jpg\">\n\n// delete window.IntersectionObserver; // Fallback Testing\n\ndocument.addEventListener('DOMContentLoaded', function() {\n\n\tvar lazyImages = [].slice.call(document.querySelectorAll('img.lazy'));\n\tvar lazyBackgrounds = [].slice.call(document.querySelectorAll('.lazy-background'));\n\tvar lazyBackgroundsData = [].slice.call(document.querySelectorAll('[data-bg]'));\n\n\tif ('IntersectionObserver' in window) {\n\n\t\tlet lazyImageObserver = new IntersectionObserver(function(entries, observer) {\n\t\t\tentries.forEach(function(entry) {\n\t\t\t\tif (entry.isIntersecting) {\n\t\t\t\t\tlet lazyImage = entry.target;\n\t\t\t\t\tlazyImage.src = lazyImage.dataset.src;\n\t\t\t\t\tlazyImage.srcset = lazyImage.dataset.srcset;\n\t\t\t\t\tlazyImage.classList.remove('lazy');\n\t\t\t\t\tlazyImageObserver.unobserve(lazyImage);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tlazyImages.forEach(function(lazyImage) {\n\t\t\tlazyImageObserver.observe(lazyImage);\n\t\t});\n\n\tlet lazyBackgroundObserver = new IntersectionObserver(function(entries, observer) {\n\t\tentries.forEach(function(entry) {\n\t\t\tif (entry.isIntersecting) {\n\t\t\t\tentry.target.classList.add('visible');\n\t\t\t\tlazyBackgroundObserver.unobserve(entry.target);\n\t\t\t}\n\t\t});\n\t});\n\tlazyBackgrounds.forEach(function(lazyBackground) {\n\t\tlazyBackgroundObserver.observe(lazyBackground);\n\t});\n\n\tlet lazyBackgroundDataObserver = new IntersectionObserver(function(entries, observer) {\n\t\tentries.forEach(function(entry) {\n\t\t\tif (entry.isIntersecting) {\n\t\t\t\tlet lazyBackgroundData = entry.target;\n\t\t\t\tlazyBackgroundData.style.backgroundImage = 'url(' + lazyBackgroundData.dataset.bg + ')';\n\t\t\t\tlazyBackgroundDataObserver.unobserve(lazyBackgroundData);\n\t\t\t}\n\t\t});\n\t});\n\tlazyBackgroundsData.forEach(function(lazyBackgroundData) {\n\t\tlazyBackgroundDataObserver.observe(lazyBackgroundData);\n\t});\n\n\t} else {\n\n\t\t// Fallback\n\n\t\tlazyImages.forEach(function(lazyImage) {\n\t\t\tlazyImage.src = lazyImage.dataset.src;\n\t\t\tlazyImage.srcset = lazyImage.dataset.srcset;\n\t\t});\n\t\tlazyBackgrounds.forEach(function(lazyBackground) {\n\t\t\tlazyBackground.classList.add('visible');\n\t\t});\n\t\tlazyBackgroundsData.forEach(function(lazyBackgroundData) {\n\t\t\tlazyBackgroundData.style.backgroundImage = 'url(' + lazyBackgroundData.dataset.bg + ')';\n\t\t});\n\n\t}\n\n});\n"]}